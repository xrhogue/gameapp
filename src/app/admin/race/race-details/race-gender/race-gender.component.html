<ngb-tabset class="sub-tabset" type="pill">
  <ngb-tab>
    <ng-template ngbTabTitle>
      <div class="sub-tab" [class.invalid]="isComponentInvalid('general')">General</div>
    </ng-template>
    <ng-template ngbTabContent>
      <div class="row">
        <div class="small-12 medium-6 columns">
          <label class="control-label" for="cost">Cost
            <div class="input-group">
              <input type="text"
                     class="form-control number"
                     id="cost"
                     oninput="this.value = this.value.replace(/\D/g, '')"
                     [(ngModel)]="race.cost[gender.id]"
                     (ngModelChange)="raceChange.emit(race)"
                     name="baseCost"
                     required
                     min="1"
                     pattern="[1-9]+[0-9]*"
                     #cost="ngModel">
              <div *ngIf="cost.invalid" class="alert alert-danger">
                <div *ngIf="cost.errors.required">Required</div>
                <div *ngIf="cost.errors.pattern && isInteger(cost.errors.pattern.actualValue)">Value must be greater than '0'</div>
                <div *ngIf="cost.errors.pattern && !isInteger(cost.errors.pattern.actualValue)">Value is not an integer</div>
              </div>
            </div>
          </label>
        </div>
      </div>
    </ng-template>
  </ngb-tab>
  <ngb-tab>
    <ng-template ngbTabTitle>
      <div class="sub-tab" [class.invalid]="isComponentInvalid('stats')">Stats</div>
    </ng-template>
    <ng-template ngbTabContent>
      <app-race-stats [(race)]="race" [gender]="gender"></app-race-stats>
    </ng-template>
  </ngb-tab>
  <ngb-tab>
    <ng-template ngbTabTitle>
      <div class="sub-tab" [class.invalid]="isComponentInvalid('ages')">Ages</div>
    </ng-template>
    <ng-template ngbTabContent>
      <app-race-ages [(race)]="race" [gender]="gender"></app-race-ages>
    </ng-template>
  </ngb-tab>
  <ngb-tab>
    <ng-template ngbTabTitle>
      <div class="sub-tab" [class.invalid]="areAttributesInvalid()">Attributes</div>
    </ng-template>
    <ng-template ngbTabContent>
      <app-race-attributes [(race)]="race" [gender]="gender"></app-race-attributes>
    </ng-template>
  </ngb-tab>
  <ngb-tab>
    <ng-template ngbTabTitle>
      <div class="sub-tab" [class.invalid]="isComponentInvalid('measurements')">Measurements</div>
    </ng-template>
    <ng-template ngbTabContent>
      <app-race-measurements [(race)]="race" [gender]="gender"></app-race-measurements>
    </ng-template>
  </ngb-tab>
</ngb-tabset>
